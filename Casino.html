<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DonutSMP Casino Helper</title>
<style>
body {
  margin:0;
  font-family:'Minecraft',sans-serif;
  background:#1b0d1b;
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100vh;
}
header {
  width:100%;
  padding:15px;
  text-align:center;
  background:linear-gradient(90deg,#ff00ff,#6600ff);
  box-shadow:0 0 20px #ff00ff;
}
h1 { margin:0; color:#fff; text-shadow:0 0 8px #ff00ff,0 0 12px #6600ff; }
.owner { margin-top:4px; color:#00ffcc; font-weight:700; }
main { width:100%; max-width:1200px; padding:10px; display:flex; flex-wrap:wrap; gap:15px; justify-content:center; }
.game-card {
  background:rgba(255,255,255,0.05);
  padding:15px;
  border-radius:12px;
  flex:1 1 320px;
  min-width:280px;
  position:relative;
  box-shadow:0 0 20px rgba(0,0,0,0.4);
  transition:all 0.3s;
}
.game-card:hover {transform:scale(1.03);box-shadow:0 0 40px #ff00ff;}
input, select {
  padding:6px 10px;
  border-radius:6px;
  border:none;
  margin:4px 0;
  width:100%;
  background:rgba(255,255,255,0.1);
  color:#fff;
}
input::placeholder{color:#ccc;}
button {
  background:linear-gradient(90deg,#ffd700,#ffae00);
  border:none;
  padding:8px 14px;
  border-radius:10px;
  font-weight:800;
  cursor:pointer;
  margin-top:6px;
  width:100%;
  transition:all 0.2s;
}
button:hover{transform:scale(1.05);}
#result {
  margin-top:12px;
  font-weight:800;
  word-break:break-word;
  padding:10px;
  border-radius:6px;
  text-align:center;
  font-size:1.1rem;
}
.win { background:linear-gradient(90deg,#00ff66,#00cc00); color:#000; text-shadow:0 0 6px #00ff66; }
.lose { background:linear-gradient(90deg,#ff3333,#aa0000); color:#fff; text-shadow:0 0 6px #ff3333; }
canvas { width:100%; height:auto; border-radius:12px; margin-top:10px; background: radial-gradient(circle at center, #2a002a 0%, #1b0d1b 100%); display:block; }
.history { margin-top:10px; font-size:0.85rem; color:#ccc; max-height:150px; overflow-y:auto; border-top:1px solid #444; padding-top:5px; }
</style>
</head>
<body>

<header>
  <h1>üé∞ DonutSMP Casino Helper</h1>
  <div class="owner">Owner: <span id="ownerName">robisrobot</span></div>
</header>

<main>
  <div class="game-card">
    <label>Player Name</label>
    <input id="playerName" placeholder="Minecraft Username">
    <label>Bet Amount</label>
    <input id="betAmount" type="number" placeholder="Amount" min="1">
    <label>Choose Game</label>
    <select id="gameSelect">
      <option value="roulette">üé° Roulette</option>
      <option value="coin">ü™ô Coin Flip</option>
      <option value="dice">üé≤ Dice</option>
      <option value="slots">üé∞ Slots</option>
      <option value="blackjack">üÉè Blackjack</option>
    </select>

    <div id="colorChoice" style="display:block;">
      <label>Choose Color</label>
      <select id="colorBet">
        <option value="red">üî¥ Red</option>
        <option value="black">‚ö´ Black</option>
        <option value="green">üü¢ Green</option>
      </select>
    </div>

    <button id="playBtn">Play</button>
    <div id="result"></div>
    <div class="history" id="history"></div>
  </div>

  <div class="game-card" id="wheelCard">
    <canvas id="rouletteWheel"></canvas>
  </div>

  <div class="game-card" id="blackjackCard" style="display:none;">
    <canvas id="blackjackCanvas"></canvas>
    <div style="margin-top:10px;">
      <button id="hitBtn" disabled>Hit</button>
      <button id="standBtn" disabled>Stand</button>
    </div>
  </div>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script>
// --- Utils ---
const resultDiv=document.getElementById('result');
const historyDiv=document.getElementById('history');
const wheelCard=document.getElementById('wheelCard');
const colorChoice=document.getElementById('colorChoice');
const rouletteCanvas=document.getElementById('rouletteWheel');
const ctx=rouletteCanvas.getContext('2d');
const blackjackCard=document.getElementById('blackjackCard');
const bjCanvas=document.getElementById('blackjackCanvas');
const bjCtx=bjCanvas.getContext('2d');
const hitBtn=document.getElementById('hitBtn');
const standBtn=document.getElementById('standBtn');
const gameSelect=document.getElementById('gameSelect');
let currentRotation=0;

// --- Resize ---
function resizeCanvas(canvas){
  const rect=canvas.getBoundingClientRect();
  canvas.width=rect.width;
  canvas.height=rect.width;
}
window.addEventListener('resize',()=>{
  resizeCanvas(rouletteCanvas); drawWheel(currentRotation);
  resizeCanvas(bjCanvas); renderBlackjack();
});
resizeCanvas(rouletteCanvas);
resizeCanvas(bjCanvas);

// --- Roulette ---
const segments=[{color:'green',label:'0'}];
for(let i=1;i<=36;i++){segments.push({color:i%2===0?'black':'red',label:i.toString()});}

function drawWheel(rotation=0){
  resizeCanvas(rouletteCanvas);
  currentRotation=rotation;
  const cx=rouletteCanvas.width/2,cy=rouletteCanvas.height/2;
  const radius=cx-10;
  const arc=(2*Math.PI)/segments.length;
  ctx.clearRect(0,0,rouletteCanvas.width,rouletteCanvas.height);
  segments.forEach((seg,i)=>{
    ctx.beginPath();ctx.moveTo(cx,cy);
    ctx.arc(cx,cy,radius,i*arc+rotation,(i+1)*arc+rotation);
    ctx.fillStyle=seg.color;ctx.fill();
    ctx.save();ctx.translate(cx,cy);ctx.rotate(i*arc+arc/2+rotation);
    ctx.fillStyle='gold';ctx.textAlign='right';ctx.font='bold 16px sans-serif';
    ctx.fillText(seg.label,radius-10,6);ctx.restore();
  });
  ctx.beginPath();ctx.moveTo(cx-20,12);ctx.lineTo(cx+20,12);ctx.lineTo(cx,40);ctx.fillStyle='gray';ctx.fill();
  ctx.beginPath();ctx.arc(cx,cy,radius*0.15,0,2*Math.PI);ctx.fillStyle='rgba(255,255,255,0.2)';ctx.fill();
}

async function spinRoulette(colorBet,player,betAmount){
  const targetIdx=Math.floor(Math.random()*segments.length);
  const winningColor=segments[targetIdx].color;
  const won=winningColor.toLowerCase()===colorBet.toLowerCase();
  const totalRotation=2*Math.PI*8+targetIdx*(2*Math.PI/segments.length);
  await new Promise(resolve=>{
    anime({targets:{rot:0},rot:totalRotation,easing:'easeOutCubic',duration:3500,
      update:function(a){ drawWheel(a.animations[0].currentValue); },complete:resolve });
  });
  return won;
}

// --- Coin Flip ---
async function flipCoin(player,betAmount){
  let count=0;
  return new Promise(res=>{
    const choice=Math.random()<0.5?'heads':'tails';
    const interval=setInterval(()=>{
      resultDiv.textContent=Math.random()<0.5?'ü™ô Heads':'ü™ô Tails';
      count++; if(count>10){clearInterval(interval);res(choice==='heads');}
    },80);
  });
}

// --- Dice ---
async function rollDice(player,betAmount){
  return new Promise(res=>{
    let count=0;
    const interval=setInterval(()=>{
      const val=Math.floor(Math.random()*6)+1;
      resultDiv.textContent=`üé≤ Dice: ${val}`;
      count++; if(count>10){clearInterval(interval);res(val>=4);}
    },80);
  });
}

// --- Slots ---
async function spinSlots(player,betAmount){
  const symbols=['üçí','üçã','üîî','‚≠ê','üíé'];
  let reels=[0,0,0],count=0;
  return new Promise(res=>{
    const interval=setInterval(()=>{
      reels=reels.map(()=>symbols[Math.floor(Math.random()*symbols.length)]);
      resultDiv.innerHTML=`üé∞ ${reels.join(' | ')}`;
      count++; if(count>15){clearInterval(interval);res(reels[0]===reels[1]&&reels[1]===reels[2]);}
    },80);
  });
}

// --- Blackjack ---
let deck=[],playerCards=[],dealerCards=[];
function createDeck(){const suits=['‚ô†','‚ô•','‚ô¶','‚ô£'];const ranks=['A','2','3','4','5','6','7','8','9','10','J','Q','K'];deck=[];for(const s of suits){for(const r of ranks){deck.push({suit:s,rank:r});}}for(let i=deck.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[deck[i],deck[j]]=[deck[j],deck[i]];}}
function drawCard(ctx,card,x,y){ctx.fillStyle='white';ctx.fillRect(x,y,60,90);ctx.fillStyle='black';ctx.font='16px sans-serif';ctx.fillText(card.rank+card.suit,x+5,y+20);ctx.strokeRect(x,y,60,90);}
function renderBlackjack(){bjCtx.clearRect(0,0,bjCanvas.width,bjCanvas.height);playerCards.forEach((c,i)=>drawCard(bjCtx,c,50+i*70,180));dealerCards.forEach((c,i)=>drawCard(bjCtx,c,50+i*70,20));}
function cardValue(card){if(['J','Q','K'].includes(card.rank))return 10;if(card.rank==='A')return 11;return parseInt(card.rank);}
function handValue(cards){let total=cards.reduce((sum,c)=>sum+cardValue(c),0);let aceCount=cards.filter(c=>c.rank==='A').length;while(total>21&&aceCount>0){total-=10;aceCount--;}return total;}
function startBlackjack(player,betAmount){createDeck();playerCards=[deck.pop(),deck.pop()];dealerCards=[deck.pop(),deck.pop()];renderBlackjack();hitBtn.disabled=false;standBtn.disabled=false;
hitBtn.onclick=()=>{playerCards.push(deck.pop());renderBlackjack();if(handValue(playerCards)>21)endBlackjack(false,player,betAmount);}
standBtn.onclick=()=>{while(handValue(dealerCards)<17){dealerCards.push(deck.pop());renderBlackjack();}
const win=handValue(playerCards)<=21&&(handValue(playerCards)>handValue(dealerCards)||handValue(dealerCards)>21);endBlackjack(win,player,betAmount);}}
function endBlackjack(win,player,betAmount){hitBtn.disabled=true;standBtn.disabled=true;if(win){resultDiv.className='win';resultDiv.innerHTML=`üéâ WIN! /pay ${player} ${betAmount*2}`; historyDiv.innerHTML=`${player} won ${betAmount*2}<br>`+historyDiv.innerHTML;}else{resultDiv.className='lose';resultDiv.innerHTML=`üíÄ LOSE! Do NOT pay`; historyDiv.innerHTML=`${player} lost ${betAmount}<br>`+historyDiv.innerHTML;}}

// --- Show Result ---
function showResult(won,player,betAmount){
  resultDiv.className='';
  if(won){resultDiv.className='win';resultDiv.innerHTML=`üéâ WIN! <br>Use: <b>/pay ${player} ${betAmount*2}</b>`; historyDiv.innerHTML=`${player} won ${betAmount*2}<br>`+historyDiv.innerHTML;}
  else{resultDiv.className='lose';resultDiv.innerHTML=`üíÄ LOSE! <br>Do NOT pay`; historyDiv.innerHTML=`${player} lost ${betAmount}<br>`+historyDiv.innerHTML;}
}

// --- Game Select ---
gameSelect.addEventListener('change',()=>{
  if(gameSelect.value==='roulette'){ wheelCard.style.display='block'; colorChoice.style.display='block'; blackjackCard.style.display='none'; drawWheel();}
  else if(gameSelect.value==='blackjack'){blackjackCard.style.display='block';wheelCard.style.display='none';colorChoice.style.display='none';}
  else{wheelCard.style.display='none';colorChoice.style.display='none';blackjackCard.style.display='none';}
});

// --- Play Button ---
document.getElementById('playBtn').addEventListener('click', async ()=>{
  const player=document.getElementById('playerName').value.trim();
  const betAmount=parseInt(document.getElementById('betAmount').value);
  if(!player||isNaN(betAmount)||betAmount<1){resultDiv.className='lose';resultDiv.textContent='Enter valid player and bet';return;}
  const game=gameSelect.value;
  resultDiv.className='';resultDiv.textContent='Playing...';
  if(game==='roulette'){const colorBet=document.getElementById('colorBet').value;const won=await spinRoulette(colorBet,player,betAmount);showResult(won,player,betAmount);}
  else if(game==='coin'){const won=await flipCoin(player,betAmount);showResult(won,player,betAmount);}
  else if(game==='dice'){const won=await rollDice(player,betAmount);showResult(won,player,betAmount);}
  else if(game==='slots'){const won=await spinSlots(player,betAmount);showResult(won,player,betAmount);}
  else if(game==='blackjack'){startBlackjack(player,betAmount);}
});

// --- Initial ---
drawWheel();
</script>
</body>
</html>
